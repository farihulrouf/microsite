{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/pubana/frondweb/microsite/src/components/Modal/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport propTypes from 'prop-types';\nimport { craetePortal } from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nexport default function Modal(props) {\n  _s();\n\n  var _props$in;\n\n  var _useState = useState(function () {\n    return false;\n  }),\n      Ready = _useState[0],\n      setReady = _useState[1];\n\n  var _useState2 = useState(function () {\n    return false;\n  }),\n      Display = _useState2[0],\n      setDisplay = _useState2[1];\n\n  var _useState3 = useState(function () {\n    return true;\n  }),\n      Allow = _useState3[0],\n      setAllow = _useState3[1];\n\n  var idModal = \"modal\";\n  var ModalRef = useRef(null);\n\n  function toggleAllow() {\n    setAllow(!Allow);\n  }\n\n  function toggle() {\n    if (props.toggleModal) props.toggleModal();else setDisplay(!Display);\n  }\n\n  function handleClickOutside(event) {\n    var _ModalRef$current, _ModalRef$current$con;\n\n    if (ModalRef !== null && ModalRef !== void 0 && (_ModalRef$current = ModalRef.current) !== null && _ModalRef$current !== void 0 && (_ModalRef$current$con = _ModalRef$current.contains) !== null && _ModalRef$current$con !== void 0 && _ModalRef$current$con.call(_ModalRef$current, event.target) && Allow) toggle();\n  }\n\n  useEffect(function () {\n    var rootContainer = document.createElement(\"div\");\n    rootContainer.setAttribute(\"id\", idModal);\n    setReady(true);\n    if (!document.getElementById(idModal)) document.body.appendChild(rootContainer);\n  }, []);\n  useEffect(function () {\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return function () {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  });\n  useEffect(function () {\n    if (Display || props[\"in\"]) {\n      document.querySelector(\"body\").classList.add(\"modal-open\");\n    }\n\n    return function () {\n      document.querySelector(\"body\").classList.remove(\"modal-open\");\n    };\n  }, [Display, props[\"in\"]]);\n  if (!Ready) return null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [props.children(toggle), document && document.getElementById(idModal) && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: craetePortal( /*#__PURE__*/_jsxDEV(CSSTransition, {\n        \"in\": (_props$in = props[\"in\"]) !== null && _props$in !== void 0 ? _props$in : Display,\n        timeout: 500,\n        onExit: toggleAllow,\n        onExited: toggleAllow,\n        classNames: \"overlay\",\n        unmountOnExit: true,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overlay fixed inset-0 h-screen z-50\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-black opacity-25 inset-0 absolute z-10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute z-20 flex items-center justify-center inset-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: props.modalStyle,\n              ref: ModalRef,\n              className: \"bg-white shadow-2xl max-w-3xl max-h-2xl\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"modal-close\",\n                  onClick: toggle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 37\n              }, this), props.content(toggle)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), document.getElementById(idModal))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 58\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Modal, \"Bw8+aKTV9bzs+grmBuXGeQHMDL8=\");\n\n_c = Modal;\nModal.defaultprops = {};\nModal.propTypes = {\n  \"in\": propTypes.bool,\n  toggleModal: propTypes.func,\n  content: propTypes.func.isRequired\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"sources":["/Users/pubana/frondweb/microsite/src/components/Modal/index.js"],"names":["React","useState","useEffect","useRef","propTypes","craetePortal","CSSTransition","Modal","props","Ready","setReady","Display","setDisplay","Allow","setAllow","idModal","ModalRef","toggleAllow","toggle","toggleModal","handleClickOutside","event","current","contains","target","rootContainer","document","createElement","setAttribute","getElementById","body","appendChild","addEventListener","removeEventListener","querySelector","classList","add","remove","children","modalStyle","content","defaultprops","bool","func","isRequired"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react'\n\nimport propTypes from 'prop-types'\nimport { craetePortal } from 'react-dom'\n\nimport {CSSTransition} from 'react-transition-group'\n\nexport default function Modal(props) {\n    const [Ready, setReady] = useState(() => false)\n    const [Display, setDisplay] = useState(() => false)\n    const [Allow, setAllow] = useState(() => true)\n\n    const idModal = \"modal\"\n    const ModalRef = useRef(null)\n\n    function toggleAllow() {\n        setAllow(!Allow)\n    }\n    function toggle() {\n        if(props.toggleModal) props.toggleModal();\n        else setDisplay(!Display)\n    }\n\n    function handleClickOutside(event) {\n        if(ModalRef?.current?.contains?.(event.target) && Allow)\n        toggle()\n    }\n\n    useEffect(() => {\n        const rootContainer = document.createElement(\"div\")\n        rootContainer.setAttribute(\"id\", idModal)\n        setReady(true)\n\n        if(!document.getElementById(idModal))\n          document.body.appendChild(rootContainer)\n    }, [])\n\n    useEffect(() => {\n        document.addEventListener(\"mousedown\", handleClickOutside)\n        return () => {\n            document.removeEventListener(\"mousedown\", handleClickOutside)\n        }\n    })\n\n\n    useEffect(() => {\n        if(Display || props.in) {\n            document.querySelector(\"body\").classList.add(\"modal-open\")\n        }\n        return () => {\n            document.querySelector(\"body\").classList.remove(\"modal-open\")\n        }\n    }, [Display, props.in])\n\n    if(!Ready) return null;\n\n    return (\n        <>\n        {props.children(toggle)}\n        {document && document.getElementById(idModal) && <div>\n            {\n                craetePortal(\n                    <CSSTransition in={props.in ?? Display} timeout={500} onExit={toggleAllow} onExited=\n                    {toggleAllow} classNames=\"overlay\" unmountOnExit>\n                        <div className=\"overlay fixed inset-0 h-screen z-50\">\n                            <div className=\"bg-black opacity-25 inset-0 absolute z-10\"></div>\n                            <div className=\"absolute z-20 flex items-center justify-center inset-0\">\n                                <div style={props.modalStyle} ref={ModalRef} className=\"bg-white shadow-2xl max-w-3xl max-h-2xl\">\n                                    <div className=\"relative\">\n                                        <span className=\"modal-close\" onClick={toggle}></span>\n                                    </div>\n                                    {props.content(toggle)}\n\n                                </div>\n                            </div>\n                        </div>\n                    </CSSTransition>,\n                    document.getElementById(idModal)\n                )\n               \n\n            } \n            </div>\n        }\n        </>\n    )\n}\n\nModal.defaultprops = {}\nModal.propTypes = {\n    in: propTypes.bool,\n    toggleModal: propTypes.func,\n    content: propTypes.func.isRequired,\n}"]},"metadata":{},"sourceType":"module"}